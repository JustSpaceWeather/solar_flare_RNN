from config.Enum import *
import matplotlib.pyplot as plt
import numpy as np

"""
蓝色条代表平均个人TSS分数，红色折线代表特征的平均累积TSS分数。
"""
figure_cut_C_asc = feature_C_asc
figure_cut_C_desc = feature_C_desc
figure_cut_M_asc = feature_M_asc
figure_cut_M_desc = feature_M_desc

all_title_list = [
    'NN', 'LSTM', 'LSTM_Att', 'BLSTM', 'BLSTM_Att', 'GRU', 'GRU_Att', 'BGRU', 'BGRU_Att'
]

C_TSS_asc_NN = [0.564144737, 0.538947368421052, 0.534605263157894, 0.527631578947368, 0.534342105263158,
                0.502631578947368, 0.499802631578947, 0.425855263157894, 0.268486842105263, 0.278749999999999]
C_TSS_asc_LSTM = [0.730328947, 0.7128947368421050, 0.7033552631578940, 0.6904605263157890, 0.6317763157894730,
                  0.6427631578947360, 0.6367105263157890, 0.4973026315789470, 0.3803289473684210, 0.3263157894736840]
C_TSS_asc_LSTM_Att = [0.697039474, 0.6622368421052630, 0.6678947368421050, 0.6588157894736840, 0.5916447368421050,
                      0.5983552631578940, 0.5581578947368420, 0.4897368421052630, 0.3653289473684210,
                      0.3331578947368420]
C_TSS_asc_BLSTM = [0.730657895, 0.7092105263157890, 0.7018421052631570, 0.7126315789473680, 0.6565789473684200,
                   0.6405263157894730, 0.6114473684210520, 0.5105263157894730, 0.4165131578947360, 0.3486842105263150]
C_TSS_asc_BLSTM_Att = [0.712763158, 0.6638815789473680, 0.6741447368421050, 0.6651315789473680, 0.5957894736842100,
                       0.5725000000000000, 0.5475657894736840, 0.4960526315789470, 0.3529605263157890,
                       0.3228289473684210]
C_TSS_asc_GRU = [0.714802632, 0.6692105263157890, 0.6708552631578940, 0.6563815789473680, 0.6240789473684210,
                 0.6173684210526310, 0.5959868421052630, 0.4857236842105260, 0.3961184210526310, 0.3272368421052630]
C_TSS_asc_GRU_Att = [0.709078947, 0.6659210526315790, 0.6648684210526310, 0.6493421052631570, 0.6455921052631570,
                     0.5959210526315790, 0.5817105263157890, 0.4705921052631570, 0.3801315789473680, 0.3086842105263150]
C_TSS_asc_BGRU = [0.727368421, 0.6732236842105260, 0.6657236842105260, 0.6649342105263150, 0.6051315789473680,
                  0.5986184210526310, 0.5889473684210520, 0.4883552631578940, 0.3921710526315780, 0.3266447368421050]
C_TSS_asc_BGRU_Att = [0.707171053, 0.6774342105263150, 0.6631578947368420, 0.6459868421052630, 0.6115789473684210,
                      0.5928289473684210, 0.5817763157894730, 0.4980921052631570, 0.3842763157894730,
                      0.3138157894736840]

C_std_asc_NN = [0.050188573, 0.0539126974595820, 0.0524125376195714, 0.0466140590231633, 0.0564439945010579,
                0.0468123427032110, 0.0478493947460396, 0.0510299478227466, 0.0666544779081477, 0.0680779924352695]
C_std_asc_LSTM = [0.040345043, 0.0384890350252447, 0.0446927511055768, 0.0402320248570678, 0.0345818036351385,
                  0.0369605708155847, 0.0468620596173380, 0.0409646598756264, 0.0598412677000128, 0.0475235034430479]
C_std_asc_LSTM_Att = [0.028016198, 0.0362955225675117, 0.0449980762900604, 0.0393652018103985, 0.0382723442422203,
                      0.0330735272744107, 0.0455386734064933, 0.0422337677189008, 0.0523305949742605,
                      0.0512492821380708]
C_std_asc_BLSTM = [0.034843834, 0.0358453028174128, 0.0440718768877610, 0.0481440517924248, 0.0497622463664463,
                   0.0342651385958336, 0.0681066918014966, 0.0499506335242475, 0.0447701598069660, 0.0407862901983502]
C_std_asc_BLSTM_Att = [0.033718886, 0.0460032159691187, 0.0408298293576395, 0.0510943264355820, 0.0347642435784089,
                       0.0391807110239654, 0.0549111990883331, 0.0479243690866616, 0.0498380774924559,
                       0.0442426751062141]
C_std_asc_GRU = [0.046559476, 0.0542368676421707, 0.0466632915363705, 0.0478521083428221, 0.0475245963435538,
                 0.0384552839576816, 0.0537733473740628, 0.0450559920199023, 0.0444412155692690, 0.0576491501692389]
C_std_asc_GRU_Att = [0.043603881, 0.0520342751412344, 0.0581857220875331, 0.0536932396947666, 0.0463571230784526,
                     0.0289724771487176, 0.0448506678876948, 0.0459783705772815, 0.0566514223696960, 0.0402444486975474]
C_std_asc_BGRU = [0.036737634, 0.0474378602873554, 0.0448985564025839, 0.0472211251524656, 0.0460693578647676,
                  0.0479491539473422, 0.0540233739296975, 0.0509866723256935, 0.0546594927293454, 0.0401156676826998]
C_std_asc_BGRU_Att = [0.033029264, 0.0471486587084461, 0.0460855145760531, 0.0413233838980631, 0.0322424807098782,
                      0.0238235121238850, 0.0457263346448783, 0.0420326779780391, 0.0495586913168775,
                      0.0380408822947335]

all_name_list = [
    feature_C_asc['NN'],
    feature_C_asc['LSTM'],
    feature_C_asc['LSTM_Att2'],
    feature_C_asc['BLSTM'],
    feature_C_asc['BLSTM_Att2'],
    feature_C_asc['GRU'],
    feature_C_asc['GRU_Att2'],
    feature_C_asc['BGRU'],
    feature_C_asc['BGRU_Att2']
]

C_TSS_All_asc = [
    C_TSS_asc_NN,
    C_TSS_asc_LSTM,
    C_TSS_asc_LSTM_Att,
    C_TSS_asc_BLSTM,
    C_TSS_asc_BLSTM_Att,
    C_TSS_asc_GRU,
    C_TSS_asc_GRU_Att,
    C_TSS_asc_BGRU,
    C_TSS_asc_BGRU_Att,
]

C_std_All_asc = [
    C_std_asc_NN,
    C_std_asc_LSTM,
    C_std_asc_LSTM_Att,
    C_std_asc_BLSTM,
    C_std_asc_BLSTM_Att,
    C_std_asc_GRU,
    C_std_asc_GRU_Att,
    C_std_asc_BGRU,
    C_std_asc_BGRU_Att,
]

for i in range(len(C_std_All_asc)):
    plt.figure(dpi=400)
    # 设置x轴坐标名称
    names = [""]  # x轴坐标名称
    names = names + all_name_list[i]
    name_range = range(len(names))  # x轴坐标名称对于的range索引
    x = np.array([i for i in range(1, 11)])  # x轴坐标画图位置
    y = np.array(C_TSS_All_asc[i])  # 个人TSS分数
    x_err = np.array(C_std_All_asc[i])  # 个人TSS分数标准差

    # 开始画图
    plt.title(all_title_list[i]+'≥C')
    plt.ylim((0.2, 0.8))
    plt.xlim((0, 11))
    plt.xticks(name_range, names, rotation=90)  #
    # plt.bar(x, y, yerr=x_err, ecolor='black')
    plt.errorbar(x, y, yerr=x_err, ecolor='black', color='red', linestyle='--')
    plt.tight_layout()  # 调整画布大小，防止显示不全
    plt.savefig('D:/c_cut_asc/'+str(i)+'_c_cut_asc_' + all_title_list[i] + '.jpg')
    plt.show()

# 调整子图形之间的纵向距离
# figure.subplots_adjust(hspace=0.1)
